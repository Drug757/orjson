task.md

## 1. Описание задачи
Данный проект представляет собой демонстрационную систему сериализации профилей пользователей, которая имитирует выгрузку данных из аналитической системы. Система должна преобразовывать сложные вложенные структуры Python в формат JSON, пригодный для сохранения в файл или передачи по сети.

## 2. Цель работы
Разработать программное решение на языке Python с использованием библиотеки orjson, которое демонстрирует:

    Высокую производительность при обработке сложных структур данных.

    Корректную работу с типами, которые не поддерживаются стандартным модулем json «из коробки».

    Возможности тонкой настройки вывода (сортировка, форматирование, обработка нетипичных ключей).

## 3. Функциональные требования
Программа должна реализовывать следующие функции:

    Поддержка Dataclasses: Автоматическая сериализация вложенных объектов классов данных.

    Работа с временными метками: Корректная обработка объектов datetime (стандарт ISO 8601).

    Идентификация: Нативная поддержка объектов UUID без предварительного приведения к строке.

    Сложные ключи: Обработка словарей, где ключами являются не только строки (например, кортежи или числа).

    Кастомная логика: Возможность сериализации произвольных пользовательских классов через обработчик default.

    Экспорт: Сохранение итогового результата в файл в бинарном режиме.

## 4. Нефункциональные требования
Производительность: Использование библиотеки orjson для обеспечения минимальных задержек (low latency) при сериализации.

Кодировка: Строгое использование UTF-8 (стандарт для orjson).

Читаемость: Наличие режима «Pretty Print» (отступы в 2 пробела) для целей отладки.

Типизация: Выходные данные сериализации должны иметь тип bytes для прямой передачи в буферы ввода-вывода.

## 5. Ограничения и допущения
Фиксированный отступ: Использовать только встроенный флаг OPT_INDENT_2, так как orjson не поддерживает произвольное количество пробелов в отступах ради сохранения скорости.

Версия Python: Не ниже 3.8 (для полной поддержки dataclasses и последних версий библиотеки).

Режим записи: Запись в файл должна производиться в режиме wb (write binary), так как результат работы библиотеки — байтовая строка.

## 6. Источник ТЗ
Сгенерировано нейросетью (Gemini) по запросу:
"Сгенерируй техническое задание для использования библиотеки orjson на python. Подробно демонстрирующее возможности библиотеки."